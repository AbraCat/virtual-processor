В данной работе реализован эмулятор процессора и язык ассемблера для него. Проект состоит из 3 основных модулей.

# Процессор

Процессор работает только с 32-битными целыми числами. Имеются 4 регистра - AX, BX, CX и DX. Имеется оперативная память. Она является видео памятью, т. е. с помощью команды draw можно вывести на экран её содержимое. Процессор основан на стеке. Стек является частью оперативной памяти, т. е. с ним можно работать как с помощью команд push/pop, так и с помощью непосредственного образения к памяти. Все арифметические операции выполняются на стеке с его верхними элементами. Команды push/pop могут иметь различный тип аргумента - непосредственное значение, регистр, ячейка памяти. Тип аргумента закодирован в верхних 3 битах байта команды, в нижних 5 битах - код команды (здесь мы пользуемся тем, что команд не более 32). Полный список команд можно найти в файле h/common.h в enum CmdCode.

# Ассемблер

Переводит ассемблерный текст в бинарный код, исполняемый эмулятором. Поддерживаются комментарии, начинающиеся с ";". Все команды делятся на 3 типа в зависимости от вида аргументов:
* Отстствует
* Непосредственное значение / регистр / ячейка памяти
* Метка

В первом случае в код просто заносится номер команды. Во втором случаt в функции getArg() аргмент анализируется и его тип кодируется в страших 3 битах.

Метки определяются двоеточием в конце имени. При встрече определения метки её адрес записывается в таблицу меток. При встрече метки-аргумента вместо неё подставляется её адрес, если же она ещё не была определена, она записывается в fixup-таблицу вместе с адресом аргумента в коде. В конце ассемблирования происходит обход fixup-таюлицы, и вместо аргементов подставляются адреса меток. Это позволяет использовать в качестве аргументов метки, определённые ниже в коде.

# Дизассемблер

Переводит бинарный код в ассемблерный. При этом теряются метки, так как в бинарном коде они заменяются адресами.